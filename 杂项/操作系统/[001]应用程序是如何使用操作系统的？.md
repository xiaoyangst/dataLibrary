应用程序访问操作系统，本质是要去访问硬件资源，但是需要通过操作系统这个中间件来辅助完成。

应用程序使用操作系统主要是通过**系统调用（System Call）**和**应用程序编程接口（API）**来实现的。操作系统是应用程序与硬件之间的中介，提供了统一的接口，使开发者不需要直接与硬件打交道。

应用程序编程接口底层本质上是封装一层的系统调用，也就是说访问操作系统的根本路径是系统调用。

```c++
你的应用程序
    ↓
标准库 API（如 C 的 stdio.h）
    ↓
系统调用（如 Linux 的 read(), write()）
    ↓
操作系统内核（内核态代码，真正管理硬件和资源）
```

解释一段具体的代码：

```c++
#include <stdio.h>

FILE *fp = fopen("test.txt", "r");
char buffer[100];
fgets(buffer, 100, fp);
fclose(fp);
```

你调用的是 `fopen()`、`fgets()`、`fclose()` 这些标准库函数，它们是 **Linux 操作系统提供的 API**。

这些函数内部会调用更底层的系统调用，如 `open()`、`read()`、`close()`。

最终通过软中断或专用指令（如 x86 的 `syscall` 指令）**让 CPU 进入内核态**，执行内核中的真正逻辑。