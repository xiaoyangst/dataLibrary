拓扑排序（Topological Sorting）是图论中的一个经典算法，主要用于**有向无环图（DAG）**，其核心目的是将图中的所有节点排成一个线性序列，使得对于每一条有向边 `u → v`，`u` 在序列中出现在 `v` 之前。

# 拓扑排序的典型应用场景

## 任务调度 / 课程安排

- 题意：有多个任务/课程，有前后依赖关系，问能否完成所有任务？或者输出一个可行的执行顺序。

## 判断有无环（DAG判定）

- 问题：给定一些前后依赖关系，判断是否存在环。
- 解法：尝试进行拓扑排序，如果无法遍历所有节点（队列空时还有剩余入度为正的点），则存在环。

## 3. 最早完成时间 / 关键路径

- 给每个任务加上耗时，问所有任务最早什么时候能完成。
- 拓扑排序配合DP，从源点出发累积最长路径时间。

## 4. 字典序最小的拓扑序

- 有时不仅要求一个拓扑序，还要求字典序最小，这时需要用**优先队列（堆）**维护入度为0的节点。

# 如何识别题目可以用拓扑排序

## 判断条件

1. **有向边 + 依赖关系**（例如“X 必须在 Y 之前执行”）
2. **构造一个执行顺序**（输出排序或判断可行性）
3. **不能有循环依赖**（题目有无解的可能性）
4. **输入是边集合或依赖列表，而不是图的邻接矩阵**

##  典型关键词提示

- “先做A才能做B”
- “A是B的前置任务”
- “完成全部任务”
- “输出一个合法顺序”
- “有无冲突/环”

